# 律師免責聲明修正

## 🐛 **問題描述**

在測試建議類問題時，GPT 在回答末尾自動添加了不當的免責聲明：

```
具體案件處理請諮詢專業律師以獲取具體的法律建議。
```

**問題**：
- 使用者本身就是**律師**！
- 這句話讓律師感到被冒犯
- 我們之前已經修正過這個問題，但 GPT 還是自己加了

---

## 🔍 **根本原因**

### **原因 1: GPT 的訓練習慣**

GPT 在訓練數據中學到了「提供法律相關建議時要加免責聲明」的模式，所以會自動添加這類句子。

### **原因 2: System Prompt 沒有明確禁止**

雖然我們在範例中提供了正確的數據說明：

```
📊 數據說明：
以上分析基於王婉如法官在 2025年6-7月 的判決數據（共 5 筆返還不當得利案件）。
判決傾向可能因個案事實、證據強度、法律爭點而有所不同。
建議結合具體案情與證據進行專業判斷。
```

但沒有**明確禁止**使用「請諮詢您的律師」這類句子。

---

## ✅ **修正內容**

### **在「回答格式」部分添加嚴格禁止規則**

**位置**：`utils/ai-agent-tools.js` 第 611-625 行

**修正前**：
```javascript
**回答格式**:
- 使用繁體中文
- 語氣專業（針對律師使用者）
- **[關鍵] 提供可驗證的數據支持** - 每個觀察都附上案號
- **[關鍵] 引用判決書原文** - 提供關鍵段落的直接引用
- 明確說明數據範圍和樣本數 (例如：「基於 5 筆案件」「2025年6-7月」)
- 適當使用 Markdown 格式 (標題、列表、粗體)
- **[關鍵] 避免模糊描述** - 使用具體數字而非「較高」「通常」等詞
```

**修正後**：
```javascript
**回答格式**:
- 使用繁體中文
- 語氣專業（針對律師使用者）
- **[關鍵] 提供可驗證的數據支持** - 每個觀察都附上案號
- **[關鍵] 引用判決書原文** - 提供關鍵段落的直接引用
- 明確說明數據範圍和樣本數 (例如：「基於 5 筆案件」「2025年6-7月」)
- 適當使用 Markdown 格式 (標題、列表、粗體)
- **[關鍵] 避免模糊描述** - 使用具體數字而非「較高」「通常」等詞
- **[嚴格禁止] 絕對不要使用以下句子**:
  - ❌ 「具體案件處理請諮詢您的律師」
  - ❌ 「請諮詢專業律師以獲取具體的法律建議」
  - ❌ 「建議尋求專業法律意見」
  - ❌ 任何建議用戶「去找律師」的句子
  - ✅ 原因：使用者本身就是律師！這些句子會讓律師感到被冒犯
  - ✅ 正確做法：使用「建議結合具體案情與證據進行專業判斷」
```

---

## 🎯 **修正效果**

### **修正前** ❌

```
根據王婉如法官在「返還不當得利」案件中的判決數據（2025年6-7月），以下是一些分析和觀察：

判決結果統計
...

建議
1. 準備充分的證據
2. 強調合約的合法性與履行情況
3. 關注法官的判決理由

這些觀察基於王婉如法官在過去相關案件中的判決，供您參考。
具體案件處理請諮詢專業律師以獲取具體的法律建議。  // ❌ 律師：「我就是律師啊！」
```

---

### **修正後** ✅

```
根據王婉如法官在「返還不當得利」案件中的判決數據（2025年6-7月），以下是一些分析和觀察：

**判決結果統計（基於 5 筆案件）**：
- 原告勝訴：3 筆（60%）
  - PCDV,114,訴,1434,20250714,1
  - PCDV,113,訴,892,20250620,1
  - PCDV,112,訴,567,20250515,1

**判決傾向分析**：
1. 重視合約成立證據
   - 參考案件：PCDV,114,訴,1434,20250714,1
   - 判決理由：「原告依投資合約請求返還125萬元本金及利息有據...」

**基於判決數據的觀察**：
- 被告成功抗辯的案例：
  - 案號：PCDV,113,訴,745,20250710,1
  - 駁回理由：「原告未能提供充分證據證明款項已交付被告」

---
📊 數據說明：
以上分析基於王婉如法官在 2025年6-7月 的判決數據（共 5 筆返還不當得利案件）。
判決傾向可能因個案事實、證據強度、法律爭點而有所不同。
建議結合具體案情與證據進行專業判斷。  // ✅ 尊重律師身份
```

---

## 📝 **修正的檔案**

1. ✅ `utils/ai-agent-tools.js` - 添加嚴格禁止規則

---

## 🚀 **部署步驟**

1. **推送代碼到 GitHub**
   ```bash
   cd d:\court_data\courtDataAPI
   git add utils/ai-agent-tools.js
   git commit -m "fix: 禁止使用「請諮詢您的律師」等不當免責聲明"
   git push origin main
   ```

2. **等待 Vercel 自動部署**
   - 約 1-2 分鐘

3. **測試驗證**
   - 重新測試建議類問題
   - 確認回答末尾不再出現「請諮詢您的律師」

---

## 💡 **經驗教訓**

### **1. GPT 的訓練習慣很難改變**

即使我們在範例中提供了正確的做法，GPT 還是可能基於訓練數據的習慣自動添加不當的句子。

**解決方案**：
- 使用**明確的禁止規則**
- 列出所有不允許的句子
- 說明原因（使用者是律師）

---

### **2. 需要考慮使用者身份**

不同的使用者需要不同的免責聲明：

| 使用者 | 不當的免責聲明 | 正確的免責聲明 |
|--------|---------------|---------------|
| **一般民眾** | ✅ 「請諮詢專業律師」 | ✅ 「請諮詢專業律師」 |
| **律師** | ❌ 「請諮詢專業律師」 | ✅ 「建議結合具體案情進行專業判斷」 |

---

### **3. System Prompt 需要持續優化**

隨著使用，我們會發現更多 GPT 的「壞習慣」，需要持續在 System Prompt 中添加規則來糾正。

---

## 🎯 **預期效果**

1. **提升律師滿意度**
   - 不再出現讓律師感到被冒犯的句子
   - 尊重律師的專業身份

2. **提升回答品質**
   - 更專業的語氣
   - 更符合律師的需求

3. **減少用戶投訴**
   - 避免律師質疑系統的專業性

---

**修正完成時間**: 2025-10-04  
**修正人員**: Augment Agent  
**問題報告人**: BOHARRY  
**特別感謝**: BOHARRY 的敏銳觀察 😅

