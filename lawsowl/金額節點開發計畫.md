# é‡‘é¡ç¯€é»é–‹ç™¼è¨ˆç•«

## ğŸ“… æ–‡æª”æ—¥æœŸ
2025-10-24

---

## ğŸ” ä¸€ã€è³‡æ–™åº«çµæ§‹åˆ†æ

### **1.1 Elasticsearch Mapping åˆ†æ**

æ ¹æ“š `mapping.txt` (Lines 706-728)ï¼Œæ°‘äº‹æ¡ˆä»¶çš„é‡‘é¡æ•¸æ“šå­˜å„²åœ¨ï¼š

```json
{
  "key_metrics": {
    "civil_metrics": {
      "claim_amount": {
        "type": "float"  // è«‹æ±‚é‡‘é¡
      },
      "granted_amount": {
        "type": "float"  // ç²å‡†é‡‘é¡
      }
    }
  }
}
```

### **1.2 å¯¦éš›åˆ¤æ±ºæ›¸ç¯„ä¾‹åˆ†æ**

æ ¹æ“š `NHEV,114,æ¹–å°,471,20250619,1.json` (Lines 113-120)ï¼š

```json
{
  "key_metrics": {
    "civil_metrics": {
      "claim_amount": 37585,      // è«‹æ±‚é‡‘é¡ï¼š37,585 å…ƒ
      "granted_amount": 14503     // ç²å‡†é‡‘é¡ï¼š14,503 å…ƒ
    },
    "criminal_metrics": null,
    "administrative_metrics": null
  }
}
```

**é—œéµç™¼ç¾**ï¼š
- âœ… é‡‘é¡æ•¸æ“šå·²ç¶“çµæ§‹åŒ–å­˜å„²åœ¨ `key_metrics.civil_metrics`
- âœ… æ•¸æ“šé¡å‹ç‚º `float`ï¼Œå–®ä½ç‚ºã€Œå…ƒã€ï¼ˆæ–°å°å¹£ï¼‰
- âœ… åªæœ‰æ°‘äº‹æ¡ˆä»¶æœ‰ `civil_metrics`ï¼Œåˆ‘äº‹å’Œè¡Œæ”¿æ¡ˆä»¶ç‚º `null`
- âœ… ç²å‡†ç‡ = `granted_amount / claim_amount` = 14503 / 37585 = **38.6%**

---

## ğŸ“Š äºŒã€æ•¸æ“šæµåˆ†æ

### **2.1 ç¾æœ‰æ•¸æ“šæµ**

```
CasePrecedentAnalysisNodeV2 (ç”¨æˆ¶è¼¸å…¥)
    â†“ èª¿ç”¨ startCasePrecedentAnalysis()
casePrecedentAnalysisService.js
    â†“ ES kNN æœç´¢ï¼ˆä½¿ç”¨å‘é‡ç›¸ä¼¼åº¦ï¼‰
    â†“ _source å­—æ®µåŒ…å«ï¼š
    â†“   - JID, JTITLE, verdict_type, court, JYEAR
    â†“   - summary_ai_full, main_reasons_ai
    â†“   - position_based_analysis
    â†“   - å„ç¨®å‘é‡å­—æ®µ
    â†“ âŒ ä½†ä¸åŒ…å« key_metricsï¼
è¿”å› casePrecedentData
    â†“ å‚³éçµ¦ FavorableAnalysisNodeV2
é¡¯ç¤ºåˆ†æçµæœ
```

**å•é¡Œç™¼ç¾**ï¼š
- âŒ ç¾æœ‰çš„ ES æŸ¥è©¢**æ²’æœ‰**åŒ…å« `key_metrics` å­—æ®µ
- âŒ å› æ­¤ç„¡æ³•ç›´æ¥ç²å–é‡‘é¡æ•¸æ“š
- âœ… éœ€è¦ä¿®æ”¹ ES æŸ¥è©¢çš„ `_source` åƒæ•¸

### **2.2 éœ€è¦ä¿®æ”¹çš„ä»£ç¢¼ä½ç½®**

#### **ä½ç½® 1**: `casePrecedentAnalysisService.js` (Lines 1385-1396)

```javascript
_source: [
    'JID', 'JTITLE', 'verdict_type', 'court', 'JYEAR', 'summary_ai_full',
    'main_reasons_ai',
    'position_based_analysis',
    'plaintiff_combined_vector',
    'defendant_combined_vector',
    'replicable_strategies_vector',
    'main_reasons_ai_vector',
    'text_embedding',
    'legal_issues_vector'
    // âŒ ç¼ºå°‘ key_metricsï¼
],
```

**éœ€è¦æ–°å¢**ï¼š
```javascript
_source: [
    // ... ç¾æœ‰å­—æ®µ ...
    'key_metrics'  // ğŸ†• æ–°å¢é‡‘é¡æ•¸æ“š
],
```

#### **ä½ç½® 2**: `caseDataFetcher.js` (Lines 17-29)

```javascript
_source: [
    'JID', 'JTITLE', 'court', 'verdict_type',
    'summary_ai', 'main_reasons_ai',
    'legal_issues', 'citations',
    'position_based_analysis',
    'plaintiff_combined_vector',
    'defendant_combined_vector',
    'replicable_strategies_vector',
    'main_reasons_ai_vector',
    'text_embedding',
    'legal_issues_vector'
    // âŒ ç¼ºå°‘ key_metricsï¼
]
```

**éœ€è¦æ–°å¢**ï¼š
```javascript
_source: [
    // ... ç¾æœ‰å­—æ®µ ...
    'key_metrics'  // ğŸ†• æ–°å¢é‡‘é¡æ•¸æ“š
],
```

---

## ğŸ¯ ä¸‰ã€é‡‘é¡åˆ†æåŠŸèƒ½è¨­è¨ˆ

### **3.1 æ ¸å¿ƒçµ±è¨ˆæŒ‡æ¨™**

æ ¹æ“šå¾‹å¸«éœ€æ±‚ï¼Œæˆ‘å€‘éœ€è¦è¨ˆç®—ï¼š

1. **ä¸­ä½æ•¸ (Median)**
   - è«‹æ±‚é‡‘é¡ä¸­ä½æ•¸
   - ç²å‡†é‡‘é¡ä¸­ä½æ•¸
   - ç²å‡†ç‡ä¸­ä½æ•¸

2. **å››åˆ†ä½ç¯„åœ (IQR)**
   - Q1 (25th percentile)
   - Q3 (75th percentile)
   - IQR = Q3 - Q1

3. **å¹³å‡æ•¸ (Mean)**
   - è«‹æ±‚é‡‘é¡å¹³å‡æ•¸
   - ç²å‡†é‡‘é¡å¹³å‡æ•¸
   - å¹³å‡ç²å‡†ç‡

4. **ç•°å¸¸å€¼è™•ç†**
   - ä½¿ç”¨ IQR æ³•å‰‡ï¼šæ’é™¤ < Q1 - 1.5Ã—IQR æˆ– > Q3 + 1.5Ã—IQR çš„æ¡ˆä¾‹
   - æˆ–ä½¿ç”¨ç™¾åˆ†ä½æˆªå°¾ï¼šåªå– 5th ~ 95th percentile

### **3.2 æ•¸æ“šæå–é‚è¼¯**

```javascript
// å¾åˆ¤æ±ºåˆ—è¡¨ä¸­æå–é‡‘é¡æ•¸æ“š
function extractAmountData(cases) {
    const amounts = [];
    
    cases.forEach(case_ => {
        // ğŸ”§ æ­£ç¢ºçš„æå–è·¯å¾‘
        const keyMetrics = case_._source?.key_metrics || case_.key_metrics;
        const civilMetrics = keyMetrics?.civil_metrics;
        
        if (civilMetrics) {
            const claimAmount = civilMetrics.claim_amount;
            const grantedAmount = civilMetrics.granted_amount;
            
            // åªä¿ç•™æœ‰æ•ˆæ•¸æ“š
            if (claimAmount > 0 && grantedAmount >= 0) {
                amounts.push({
                    caseId: case_._source?.JID || case_.JID,
                    caseTitle: case_._source?.JTITLE || case_.JTITLE,
                    claimAmount: claimAmount,
                    grantedAmount: grantedAmount,
                    approvalRate: grantedAmount / claimAmount,
                    court: case_._source?.court || case_.court,
                    year: case_._source?.JYEAR || case_.JYEAR
                });
            }
        }
    });
    
    return amounts;
}
```

### **3.3 çµ±è¨ˆè¨ˆç®—é‚è¼¯**

```javascript
// è¨ˆç®—çµ±è¨ˆæ•¸æ“š
function calculateStatistics(amounts) {
    if (amounts.length === 0) {
        return null;
    }
    
    // æ’åº
    const sortedClaim = amounts.map(a => a.claimAmount).sort((a, b) => a - b);
    const sortedGranted = amounts.map(a => a.grantedAmount).sort((a, b) => a - b);
    const sortedRate = amounts.map(a => a.approvalRate).sort((a, b) => a - b);
    
    // è¨ˆç®—ä¸­ä½æ•¸
    const median = (arr) => {
        const mid = Math.floor(arr.length / 2);
        return arr.length % 2 === 0 
            ? (arr[mid - 1] + arr[mid]) / 2 
            : arr[mid];
    };
    
    // è¨ˆç®—å››åˆ†ä½æ•¸
    const quartile = (arr, q) => {
        const pos = (arr.length - 1) * q;
        const base = Math.floor(pos);
        const rest = pos - base;
        return arr[base + 1] !== undefined
            ? arr[base] + rest * (arr[base + 1] - arr[base])
            : arr[base];
    };
    
    // è¨ˆç®—å¹³å‡æ•¸
    const mean = (arr) => arr.reduce((sum, val) => sum + val, 0) / arr.length;
    
    return {
        totalCases: amounts.length,
        claimAmount: {
            median: median(sortedClaim),
            mean: mean(sortedClaim),
            q1: quartile(sortedClaim, 0.25),
            q3: quartile(sortedClaim, 0.75),
            min: sortedClaim[0],
            max: sortedClaim[sortedClaim.length - 1]
        },
        grantedAmount: {
            median: median(sortedGranted),
            mean: mean(sortedGranted),
            q1: quartile(sortedGranted, 0.25),
            q3: quartile(sortedGranted, 0.75),
            min: sortedGranted[0],
            max: sortedGranted[sortedGranted.length - 1]
        },
        approvalRate: {
            median: median(sortedRate),
            mean: mean(sortedRate),
            q1: quartile(sortedRate, 0.25),
            q3: quartile(sortedRate, 0.75)
        }
    };
}
```

---

## ğŸš€ å››ã€å¯¦ä½œè¨ˆåŠƒ

### **éšæ®µä¸€ï¼šå¾Œç«¯ API é–‹ç™¼**

#### **Step 1: ä¿®æ”¹ ES æŸ¥è©¢ï¼ˆå¿…é ˆï¼‰**

**æ–‡ä»¶**: `services/casePrecedentAnalysisService.js`

**ä¿®æ”¹ä½ç½®**: Line 1385-1396

```javascript
_source: [
    'JID', 'JTITLE', 'verdict_type', 'court', 'JYEAR', 'summary_ai_full',
    'main_reasons_ai',
    'position_based_analysis',
    'plaintiff_combined_vector',
    'defendant_combined_vector',
    'replicable_strategies_vector',
    'main_reasons_ai_vector',
    'text_embedding',
    'legal_issues_vector',
    'key_metrics'  // ğŸ†• æ–°å¢
],
```

**æ–‡ä»¶**: `services/casePrecedentAnalysis/case/caseDataFetcher.js`

**ä¿®æ”¹ä½ç½®**: Line 17-29

```javascript
_source: [
    'JID', 'JTITLE', 'court', 'verdict_type',
    'summary_ai', 'main_reasons_ai',
    'legal_issues', 'citations',
    'position_based_analysis',
    'plaintiff_combined_vector',
    'defendant_combined_vector',
    'replicable_strategies_vector',
    'main_reasons_ai_vector',
    'text_embedding',
    'legal_issues_vector',
    'key_metrics'  // ğŸ†• æ–°å¢
],
```

#### **Step 2: å‰µå»ºé‡‘é¡åˆ†ææœå‹™**

**æ–°æ–‡ä»¶**: `services/amountAnalysisService.js`

```javascript
// services/amountAnalysisService.js

/**
 * é‡‘é¡åˆ†ææœå‹™
 * åˆ†ææ°‘äº‹æ¡ˆä»¶ä¸­çš„è«‹æ±‚é‡‘é¡èˆ‡ç²å‡†é‡‘é¡é—œä¿‚
 */

import { extractAmountData, calculateStatistics } from './utils/amountUtils.js';
import { generateAmountInsights } from './ai/amountInsightsGenerator.js';

export async function analyzeAmountData(casePrecedentData, position) {
    // 1. å¾æ¡ˆä»¶åˆ—è¡¨ä¸­æå–é‡‘é¡æ•¸æ“š
    const amounts = extractAmountData(casePrecedentData.cases);
    
    // 2. è¨ˆç®—çµ±è¨ˆæ•¸æ“š
    const statistics = calculateStatistics(amounts);
    
    // 3. è­˜åˆ¥ç•°å¸¸å€¼
    const outliers = identifyOutliers(amounts, statistics);
    
    // 4. é¸æ“‡ä»£è¡¨æ€§æ¡ˆä¾‹
    const representativeCases = selectRepresentativeCases(amounts, statistics);
    
    // 5. ä½¿ç”¨ AI ç”Ÿæˆæ´å¯Ÿ
    const insights = await generateAmountInsights(statistics, amounts, position);
    
    return {
        statistics,
        amounts,
        outliers,
        representativeCases,
        insights
    };
}
```

---

## ğŸ“ äº”ã€å‰ç«¯ç¯€é»å¯¦ä½œ

### **5.1 ç¯€é»å…§å®¹çµæ§‹ï¼ˆä¸ä½¿ç”¨ Tabï¼‰**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° é‡‘é¡åˆ†ææ‘˜è¦                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š åŸºæ–¼ 152 ä»¶ç›¸åŒæ¡ˆç”±åˆ¤æ±º               â”‚
â”‚                                         â”‚
â”‚ è«‹æ±‚é‡‘é¡ä¸­ä½æ•¸ï¼š120 è¬å…ƒ                 â”‚
â”‚ ç²å‡†é‡‘é¡ä¸­ä½æ•¸ï¼š80 è¬å…ƒ                  â”‚
â”‚ å¹³å‡ç²å‡†ç‡ï¼š67%                          â”‚
â”‚                                         â”‚
â”‚ ğŸ’¡ å¤šæ•¸æ¡ˆä»¶ç²å‡†é‡‘é¡è½åœ¨ 50è¬ï½150è¬ ä¹‹é–“  â”‚
â”‚    (ä½”ç¸½æ¡ˆä»¶çš„ 68%)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ é‡‘é¡åˆ†å¸ƒåœ–                            â”‚
â”‚ [ç®±å½¢åœ– Boxplot]                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“š ä»£è¡¨æ€§åˆ¤æ±ºæ¡ˆä¾‹                         â”‚
â”‚ [é«˜/ä¸­/ä½ ç²å‡†ç‡æ¡ˆä¾‹]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **5.2 æ•¸æ“šæ¥æ”¶é‚è¼¯**

```javascript
// AmountAnalysisNodeV2.js

const {
    isLoading = false,
    progress = 0,
    progressMessage = '',
    error = null,
    amountData = null,  // ğŸ”§ å¾å¾Œç«¯æ¥æ”¶çš„é‡‘é¡åˆ†ææ•¸æ“š
    timestamp = Date.now(),
    selectedPosition = 'plaintiff'
} = data;

// è§£æé‡‘é¡æ•¸æ“š
const statistics = amountData?.statistics || null;
const amounts = amountData?.amounts || [];
const insights = amountData?.insights || [];
const representativeCases = amountData?.representativeCases || [];
```

---

## âš ï¸ å…­ã€é‡è¦æ³¨æ„äº‹é …

### **6.1 æ™‚é–“ç›¸é—œåŠŸèƒ½**

âŒ **ä¸å¯¦ä½œæ™‚é–“è¶¨å‹¢åˆ†æ**
- åŸå› ï¼šè³‡æ–™åº«åªæœ‰ä¸‰å€‹æœˆçš„åˆ¤æ±ºæ›¸
- æ™‚é–“è¶¨å‹¢åˆ†æéœ€è¦è‡³å°‘ 2-3 å¹´çš„æ•¸æ“šæ‰æœ‰æ„ç¾©

### **6.2 æ•¸æ“šé‡é™åˆ¶**

âœ… **ä½¿ç”¨ç¾æœ‰çš„åˆ¤æ±ºåˆ—è¡¨**
- ä¸éœ€è¦é¡å¤–çš„ ES æŸ¥è©¢
- ç›´æ¥å¾ `casePrecedentData.cases` ä¸­æå–é‡‘é¡æ•¸æ“š
- æ¡ˆä»¶æ•¸é‡é€šå¸¸åœ¨ 10-50 ä»¶ä¹‹é–“

### **6.3 ç•°å¸¸å€¼è™•ç†**

âœ… **é€æ˜åŒ–è™•ç†**
- æ˜ç¢ºå‘ŠçŸ¥å¾‹å¸«å“ªäº›æ¡ˆä¾‹è¢«æ’é™¤
- æä¾›æŸ¥çœ‹ç•°å¸¸æ¡ˆä¾‹çš„é¸é …
- èªªæ˜æ’é™¤åŸå› ï¼ˆå¦‚ï¼šé‡‘é¡éé«˜/éä½ï¼‰

---

## ğŸ¯ ä¸ƒã€é–‹ç™¼å„ªå…ˆç´š

### **Phase 1: MVPï¼ˆæœ€å°å¯è¡Œç”¢å“ï¼‰**
1. âœ… ä¿®æ”¹ ES æŸ¥è©¢ï¼ŒåŒ…å« `key_metrics`
2. âœ… å‰µå»ºé‡‘é¡æå–å’Œçµ±è¨ˆè¨ˆç®—é‚è¼¯
3. âœ… å‰ç«¯é¡¯ç¤ºæ ¸å¿ƒæ‘˜è¦ï¼ˆä¸­ä½æ•¸ã€ç²å‡†ç‡ã€IQRï¼‰
4. âœ… ç°¡å–®çš„æ–‡å­—èªªæ˜ï¼ˆAI ç”Ÿæˆï¼‰

### **Phase 2: å¢å¼·åŠŸèƒ½**
5. âœ… ä»£è¡¨æ€§æ¡ˆä¾‹å±•ç¤ºï¼ˆé«˜/ä¸­/ä½ï¼‰
6. âœ… ç•°å¸¸å€¼èªªæ˜
7. âœ… å¯é»æ“Šæ¡ˆä¾‹é–‹å•Ÿåˆ¤æ±ºå…¨æ–‡

### **Phase 3: é€²éšåŠŸèƒ½**
8. âœ… ç®±å½¢åœ–æˆ–æ•£é»åœ–è¦–è¦ºåŒ–
9. âœ… åˆ†å±¤åˆ†æï¼ˆå¦‚ï¼šæœ‰æ›¸é¢å¥‘ç´„ vs å£é ­å”è­°ï¼‰
10. âœ… äº’å‹•å¼åœ–è¡¨ï¼ˆHover é¡¯ç¤ºè©³ç´°æ•¸æ“šï¼‰

---

## ğŸ“Š å…«ã€é æœŸæ•¸æ“šçµæ§‹

### **8.1 å¾Œç«¯è¿”å›æ ¼å¼**

```javascript
{
    "amountAnalysis": {
        "statistics": {
            "totalCases": 152,
            "claimAmount": {
                "median": 1200000,
                "mean": 1500000,
                "q1": 500000,
                "q3": 1500000,
                "min": 50000,
                "max": 5000000
            },
            "grantedAmount": {
                "median": 800000,
                "mean": 950000,
                "q1": 300000,
                "q3": 1200000,
                "min": 20000,
                "max": 3000000
            },
            "approvalRate": {
                "median": 0.67,
                "mean": 0.63,
                "q1": 0.40,
                "q3": 0.85
            }
        },
        "amounts": [
            {
                "caseId": "NHEV,114,æ¹–å°,471,20250619,1",
                "caseTitle": "ä¾µæ¬Šè¡Œç‚ºæå®³è³ å„Ÿï¼ˆäº¤é€šï¼‰",
                "claimAmount": 37585,
                "grantedAmount": 14503,
                "approvalRate": 0.386,
                "court": "è‡ºç£å£«æ—åœ°æ–¹æ³•é™¢",
                "year": "114"
            }
            // ... more cases
        ],
        "representativeCases": {
            "high": { /* é«˜ç²å‡†ç‡æ¡ˆä¾‹ */ },
            "medium": { /* ä¸­ä½æ•¸æ¡ˆä¾‹ */ },
            "low": { /* ä½ç²å‡†ç‡æ¡ˆä¾‹ */ }
        },
        "outliers": {
            "high": [ /* è¶…é«˜é‡‘é¡æ¡ˆä¾‹ */ ],
            "low": [ /* è¶…ä½é‡‘é¡æ¡ˆä¾‹ */ ]
        },
        "insights": [
            "å¤šæ•¸æ¡ˆä»¶ç²å‡†é‡‘é¡è½åœ¨ 50è¬ï½150è¬ ä¹‹é–“ï¼Œä½”ç¸½æ¡ˆä»¶çš„ 68%",
            "å¹³å‡ç²å‡†ç‡ç‚º 67%ï¼Œè¡¨ç¤ºæ³•é™¢é€šå¸¸æœƒå‡†è¨±ç´„ä¸‰åˆ†ä¹‹äºŒçš„è«‹æ±‚é‡‘é¡"
        ]
    }
}
```

---

## ğŸ”§ ä¹ã€æŠ€è¡“å¯¦ä½œç´°ç¯€

### **9.1 é‡‘é¡æ ¼å¼åŒ–**

```javascript
// æ ¼å¼åŒ–é‡‘é¡é¡¯ç¤º
function formatAmount(amount) {
    if (amount >= 10000) {
        return `${(amount / 10000).toFixed(1)} è¬å…ƒ`;
    }
    return `${amount.toLocaleString()} å…ƒ`;
}

// ç¯„ä¾‹ï¼š
formatAmount(1200000)  // "120.0 è¬å…ƒ"
formatAmount(37585)    // "37,585 å…ƒ"
```

### **9.2 ç²å‡†ç‡æ ¼å¼åŒ–**

```javascript
// æ ¼å¼åŒ–ç²å‡†ç‡é¡¯ç¤º
function formatApprovalRate(rate) {
    return `${(rate * 100).toFixed(0)}%`;
}

// ç¯„ä¾‹ï¼š
formatApprovalRate(0.67)   // "67%"
formatApprovalRate(0.386)  // "39%"
```

---

## âœ… åã€ç¸½çµ

### **æ ¸å¿ƒç™¼ç¾**ï¼š
1. âœ… é‡‘é¡æ•¸æ“šå·²ç¶“çµæ§‹åŒ–å­˜å„²åœ¨ `key_metrics.civil_metrics`
2. âŒ ç¾æœ‰ ES æŸ¥è©¢æ²’æœ‰åŒ…å« `key_metrics`ï¼Œéœ€è¦ä¿®æ”¹
3. âœ… å¯ä»¥ç›´æ¥å¾ç¾æœ‰çš„åˆ¤æ±ºåˆ—è¡¨ä¸­æå–é‡‘é¡æ•¸æ“šï¼Œä¸éœ€è¦é¡å¤–æŸ¥è©¢
4. âŒ ä¸å¯¦ä½œæ™‚é–“è¶¨å‹¢åˆ†æï¼ˆè³‡æ–™åº«åªæœ‰ä¸‰å€‹æœˆæ•¸æ“šï¼‰

### **å¯¦ä½œé‡é»**ï¼š
1. **å¾Œç«¯**ï¼šä¿®æ”¹ ES æŸ¥è©¢ â†’ å‰µå»ºé‡‘é¡åˆ†ææœå‹™ â†’ è¨ˆç®—çµ±è¨ˆæ•¸æ“š
2. **å‰ç«¯**ï¼šå‚ç›´ä½ˆå±€ï¼ˆä¸ç”¨ Tabï¼‰â†’ æ ¸å¿ƒæ‘˜è¦ â†’ ä»£è¡¨æ€§æ¡ˆä¾‹ â†’ ç•°å¸¸å€¼èªªæ˜
3. **æ•¸æ“šæµ**ï¼šä½¿ç”¨ç¾æœ‰çš„ `casePrecedentData` â†’ æå–é‡‘é¡ â†’ è¨ˆç®—çµ±è¨ˆ â†’ ç”Ÿæˆæ´å¯Ÿ

### **ä¸‹ä¸€æ­¥**ï¼š
1. ä¿®æ”¹ `casePrecedentAnalysisService.js` å’Œ `caseDataFetcher.js`
2. å‰µå»º `amountAnalysisService.js`
3. å¯¦ä½œå‰ç«¯é‡‘é¡åˆ†æç¯€é»å…§å®¹å±•ç¤º

---

**æ–‡æª”ç‰ˆæœ¬**: v1.0  
**ä½œè€…**: Augment Agent  
**æœ€å¾Œæ›´æ–°**: 2025-10-24

